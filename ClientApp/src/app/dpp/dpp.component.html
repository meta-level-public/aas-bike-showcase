<div class="surface-ground px-4 py-5 md:px-6 lg:px-8">
  <div class="flex flex-row gap-2">
    <p-table
      [value]="productList"
      class="w-full"
      styleClass="p-datatable-sm p-datatable-striped p-datatable-gridlines"
      [loading]="loading"
      >
      <ng-template pTemplate="header">
        <tr>
          <th></th>
          <th>Name</th>
          <th>AasId</th>
          <th>Produktionsdatum</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-item>
        @if (item != null) {
          <tr>
            <td>
              <div class="flex flex-row justify-content-center ">
                <p-overlayPanel #op
                  >@if (shell) {
                  <ngx-json-viewer
                    [json]="shell"
                    [expanded]="false"
                  ></ngx-json-viewer>
                }
                @if (loading) {
                  <i class="pi pi-spin pi-spinner" style="font-size: 2rem"></i>
                }
              </p-overlayPanel>
              <button
                pButton
                (click)="loadShell(item.aasId, op, $event);"
                icon="pi pi-eye"
              ></button>
            </div>
          </td>
          <td>{{ item.configuredProduct.name }}</td>
          <td>{{ item.aasId }}</td>
          <td>{{ toDate(item.productionDate) | date : 'dd.MM.yyyy HH:MM' }}</td>
        </tr>
      }
    </ng-template>
  </p-table>
</div>
</div>
